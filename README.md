# Приложение для поиска фильмов

Приложения для поиска информации по фильмам и сериалам с платформы «Кинопоиск»

## Инструкция по запуску

```shell
npm install
TOKEN=<Токен_для_доступа_к_API> npm start
```

## Проблемы

В предложенном API есть OpenAPI схема, которую можно загрузить через npm-пакет `api`, однако при загрузке возникает ошибка динамической загрузки внутри этого пакета

Было решено сделать обращение к API через fetch

В предложенном API нет возможности сделать запрос одновременно по строке и по фильтрам, у каждого из них свой route, своя пагинация

Вариантов решения было 2:

- Разделить типы поиска на 2 (по фильтрам и по строке) и обращаться к разным API
- Собирать результат и создавать общую пагинацию на стороне клиента

Для реализации второго варианта были сделаны следующие попытки:

- Обращение к API поиска по строке c максимальным значением limit, с постраничной сборкой всех результатов, сбор из этих результатов всех id в один массив, отправка этого массива как параметра в запрос к API поиска по фильтрам. Однако этот процесс занимал очень много времени, вплоть до минуты, и на стороне клиента хранится очень большой массив данных. Обращаться к API нужно часто, кэшировать не получится, т.к. строка запроса часто меняется.
- Получение максимального limit, но только первой страницы при обращении к API поиска по строке, дальше фильтрация этого результата по id через API поиска по фильтру и отображение этих результатов. В этом случае пользователь видит лишь малую часть результатов запроса.
- Убрать отображение страниц и сделать кнопку "Показать больше". По нажатию на эту кнопку обращаться к API поиска по строке, дальше фильтровать по id через API поиска по фильтру и так до того момента, пока мы не получим заданный limit. Однако по ТЗ должна быть пагинация и этот вариант все еще требует хранить результаты прошлых страниц на стороне клиента

Поэтому был выбран вариант разделить типы поиска
